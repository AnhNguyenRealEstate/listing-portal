<section class="d-none d-md-block home">
    <div class="home-background">
        <div class="row d-flex justify-content-center" style="padding-top: 10vh; padding-bottom: 10vh;">
            <mat-card class="col-8 backdrop">
                <mat-card-content>
                    <div class="row d-flex justify-content-center">
                        <mat-form-field color="accent" class="col-3">
                            <mat-label>{{ 'search_bar.purpose' | translate }}</mat-label>
                            <mat-select id="purpose" [(ngModel)]="searchCriteria.purpose">
                                <mat-option value="For Rent">{{ 'search_bar.for_rent' | translate }}</mat-option>
                                <mat-option value="For Sale">{{ 'search_bar.for_sale' | translate }}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field color="accent" class="col-3" *ngIf="searchCriteria.purpose">
                            <mat-label>{{ 'search_bar.category' | translate }}</mat-label>
                            <mat-select id="category" [(ngModel)]="searchCriteria.category"
                                (selectionChange)="onCategorySelect()">
                                <mat-option value=''>{{ 'generics.any' | translate }}</mat-option>
                                <mat-option value="Apartment">{{ 'property_category.apartment' | translate }}</mat-option>
                                <mat-option value="Villa">{{ 'property_category.villa' | translate }}</mat-option>
                                <mat-option value="Townhouse">{{ 'property_category.townhouse' | translate }}</mat-option>
                                <mat-option value="Commercial">{{ 'property_category.commercial' | translate }}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <ng-container *ngIf="searchCriteria.purpose">
                            <mat-form-field color="accent" class="col-3">
                                <mat-label>{{ 'search_bar.property_sizes' | translate }} (m<sup>2</sup>)</mat-label>
                                <mat-select id="propertySizes" [(ngModel)]="searchCriteria.propertySize">
                                    <mat-option value=''>{{ 'generics.any' | translate }}</mat-option>
                                    <mat-option *ngFor="let type of propertySizes | keyvalue" value="{{type.key}}">
                                        {{type.value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </ng-container>

                        <button class="col-2" mat-button (click)="getListings()">
                            <mat-icon>search</mat-icon>
                            <span>{{'home.find' | translate}}</span>
                        </button>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <div class="row d-flex pb-2 justify-content-center mock-listings" *ngIf="!featuredListings?.length">
            <div class="ms-2 col-3 ph-item" *ngFor="let i of numberOfMockListings">
                <div class="ph-col-3">
                    <div class="ph-picture"></div>
                    <div class="ph-row">
                        <div class="ph-col-6 big"></div>
                        <div class="ph-col-4 empty big"></div>
                        <div class="ph-col-2 big"></div>
                        <div class="ph-col-4"></div>
                        <div class="ph-col-8 empty"></div>
                        <div class="ph-col-6"></div>
                        <div class="ph-col-6 empty"></div>
                        <div class="ph-col-12"></div>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="featuredListings?.length">
            <div class="featured-listings">
                <div class="row pt-4 pb-4 ps-4 pe-4">
                    <div class="col-12 pb-1" style="font-size: 1rem;">{{ 'home.featured' | translate }}</div>
                    <mat-divider class="pb-2"></mat-divider>
                    <div *ngFor="let listing of featuredListings" class="col-4 pb-2 result-card-wrapper">
                        <listing-card [listing]="listing" (delete)="removeListing(listing)"></listing-card>
                    </div>
                </div>

                <div class="d-flex justify-content-center pb-4">
                    <a mat-raised-button color="accent" [routerLink]="['/listings']">{{ 'home.view_all' | translate }}</a>
                </div>
            </div>

            <app-footer></app-footer>
        </div>
    </div>
</section>

<section class="d-md-none home-background-mobile">
    <div class="ms-2 me-2" style="padding-top: 20vh; min-height: 90vh">
        <mat-card class="backdrop">
            <mat-card-content>
                <div class="row d-flex justify-content-center pt-4 pb-2 rent-or-sale">
                    <button class="col-5" mat-button [class.btn-active]="searchCriteria.purpose === 'For Rent'"
                        (click)="findListingsForRent()">
                        <span class="action-btn-text-mobile">{{ 'home.rent' | translate }}</span>
                    </button>
                    <div class="col-1 pt-2 d-flex justify-content-center">
                        <span class="divider-mobile"> / </span>
                    </div>
                    <button class="col-5" mat-button [class.btn-active]="searchCriteria.purpose === 'For Sale'"
                        (click)="findListingsForSale()">
                        <span class="action-btn-text-mobile">{{ 'home.buy' | translate }}</span>
                    </button>
                </div>
                <div class="row d-flex justify-content-center">
                    <div class="col-8">
                        <mat-form-field color="accent">
                            <mat-label>{{ 'search_bar.category' | translate }}</mat-label>
                            <mat-select id="category" [(ngModel)]="searchCriteria.category">
                                <mat-option value=''>{{ 'generics.any' | translate }}</mat-option>
                                <mat-option value="Apartment">{{ 'property_category.apartment' | translate }}</mat-option>
                                <mat-option value="Villa">{{ 'property_category.villa' | translate }}</mat-option>
                                <mat-option value="Townhouse">{{ 'property_category.townhouse' | translate }}</mat-option>
                                <mat-option value="Commercial">{{ 'property_category.commercial' | translate }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <button class="col-2 backdrop-mobile" mat-button type="submit" (click)="getListings()">
                        <mat-icon>search</mat-icon>
                    </button>
                </div>
            </mat-card-content>
        </mat-card>
    </div>

    <app-footer></app-footer>
</section>