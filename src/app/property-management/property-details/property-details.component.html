<section *ngIf="property">
    <h1 class="property-details-title">
        {{property.name}} - {{property.category}}
        <ng-container *ngIf="property.subcategory">({{property.subcategory}})</ng-container>
    </h1>
    <mat-divider></mat-divider>

    <div class="pt-3">
        <div [innerHtml]="property.description"></div>
    </div>

    <div class="pt-3">
        <mat-divider></mat-divider>
        <mat-tab-group color="accent">
            <mat-tab label="Activities">
                <ng-container *ngIf="activities?.length; else noActivity">
                    <activities-tree-view [activities]="activities!" (download)="downloadDoc($event)">
                    </activities-tree-view>
                    <div *ngIf="showViewMore" class="row">
                        <button class="d-block pt-2" mat-button (click)="getMoreActivities()" color="accent">
                            View more <mat-icon>keyboard_double_arrow_down_icon</mat-icon>
                        </button>
                    </div>
                </ng-container>
                <ng-template #noActivity>
                    <div class="pt-3">No recent activity</div>
                </ng-template>
            </mat-tab>

            <mat-tab label="Related Documents">
                <div class="pt-2">
                    <button *ngFor="let doc of property.documents" mat-button class="d-block pb-2"
                        (click)="downloadDoc(doc)">
                        <div class="d-inline">
                            <mat-icon color="accent">download</mat-icon> {{doc.displayName}}
                        </div>
                    </button>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</section>